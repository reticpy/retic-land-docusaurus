(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{68:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return p})),t.d(n,"default",(function(){return s}));var r=t(2),a=t(6),i=(t(0),t(89)),o={id:"settings",title:"Archivo de configuraci\xf3n",sidebar_label:"Archivo de configuraci\xf3n",description:"Archivo de configuraci\xf3n",slug:"/tutorial/settings"},c={unversionedId:"tutorial/settings",id:"tutorial/settings",isDocsHomePage:!1,title:"Archivo de configuraci\xf3n",description:"Archivo de configuraci\xf3n",source:"@site/docs\\es\\tutorial\\settings.md",slug:"/tutorial/settings",permalink:"/manual/tutorial/settings",editUrl:"https://github.com/reticpy/retic-land-docusaurus/edit/master/docs/tutorial/settings.md",version:"current",sidebar_label:"Archivo de configuraci\xf3n",sidebar:"docs",previous:{title:"Servicios",permalink:"/manual/tutorial/services"},next:{title:"Aplicaciones externas",permalink:"/manual/tutorial/external-apps"}},p=[],l={rightToc:p};function s(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Estructura de carpetas utilizada:")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"\nretic-restapi-example\n\u2502   ...\n|\n\u2514\u2500\u2500\u2500controllers\n\u2502   \u2502   users.py\n\u2502   \u2502   ...\n\u2502\n\u2514\u2500\u2500\u2500routes\n\u2502   \u2502   __init__.py\n\u2502   \u2502   routes.py\n|   \u2502   ...\n|\n\u2514\u2500\u2500\u2500services\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2500users\n\u2502       \u2502   users.py\n\u2502       \u2502   ...\n\u2502   ...\n\u2502   .env.development\n\u2502   .env.staging\n\u2502   .env.production\n\u2502   app.py\n\u2502   requirements.txt\n\u2502   settings.py\n\n")),Object(i.b)("p",null,"Muchas veces es necesario declarar valores constantes al inicio de cada archivo ",Object(i.b)("inlineCode",{parentName:"p"},".py")," y estos pueden depender de otras variables dentro de la aplicaci\xf3n, por ejemplo, valores que se obtienen del archivo de variables de entorno (.env)."),Object(i.b)("p",null,"Por tal raz\xf3n, Retic recomienda utilizar un archivo ",Object(i.b)("inlineCode",{parentName:"p"},"settings.py")," donde se importen todas est\xe1s variables y sean agregadas a la configuraci\xf3n de Retic para poder ser utilizadas dentro de toda la aplicaci\xf3n."),Object(i.b)("p",null,"Crea un archivo ",Object(i.b)("inlineCode",{parentName:"p"},"settings.py")," y agrega la carga del archivo de variables de entorno."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-python"}),'\n# settings.py\n\n# Retic\nfrom retic import App as app\n\n"""Set environment file path"""\napp.env.read_env(\'.env.development\', override=True)\n\n')),Object(i.b)("p",null,"Por defecto la funci\xf3n ",Object(i.b)("inlineCode",{parentName:"p"},"read_env()")," realiza una busqueda del archivo ",Object(i.b)("inlineCode",{parentName:"p"},".env"),", sin embargo, la ruta del archivo puede ser diferente. Se recomienda cargar las variables directamente desde el sistema en un entorno de producci\xf3n."),Object(i.b)("p",null,"Crea el archivo de variables de entorno ",Object(i.b)("inlineCode",{parentName:"p"},".env.development")," de desarrollo."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"\n# .env.development\n\n#App\nAPP_HOSTNAME                    =localhost\nAPP_PORT                        =1801\nAPP_ENV                         =development\n\n")),Object(i.b)("p",null,"Crea el archivo de variables de entorno ",Object(i.b)("inlineCode",{parentName:"p"},".env.staging")," de staging."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"\n# .env.staging\n\n#App\nAPP_HOSTNAME                    =localhost\nAPP_PORT                        =1801\nAPP_ENV                         =staging\n\n")),Object(i.b)("p",null,"Crea el archivo de variables de entorno ",Object(i.b)("inlineCode",{parentName:"p"},".env.production")," de producci\xf3n."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"\n# .env.production\n\n#App\nAPP_HOSTNAME                    =localhost\nAPP_PORT                        =1801\nAPP_ENV                         =production\n\n")),Object(i.b)("p",null,"Actualiza el archivo principal ",Object(i.b)("inlineCode",{parentName:"p"},"app.py")," y agrega el archivo de configuraci\xf3n:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-python"}),'\n# app.py\n\n"""Main app"""\n\n# Retic\nfrom retic import App as app\n\n# Settings\nimport settings\n\n# Routes\nfrom routes import router\n\n# Agregar las rutas a la aplicaci\xf3n\napp.use(router)\n\nif __name__ == "__main__":\n    # Crear servidor web\n    app.listen(\n        # Obtener la variable de entorno APP_HOSTNAME en el formato por defecto (str)\n        hostname=app.env("APP_HOSTNAME"),\n        # Obtener la variable de entorno APP_PORT en formato n\xfamerico. De no existir, retorna 1801.\n        port=app.env.int("APP_PORT", 1801),\n    )\n\n\n')),Object(i.b)("p",null,"Para m\xe1s informaci\xf3n visita la secci\xf3n de ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"../concepts/settings"}),"configuraci\xf3n"),"."))}s.isMDXComponent=!0},89:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return m}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=a.a.createContext({}),s=function(e){var n=a.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=s(e.components);return a.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},b=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),u=s(t),b=r,m=u["".concat(o,".").concat(b)]||u[b]||d[b]||i;return t?a.a.createElement(m,c(c({ref:n},l),{},{components:t})):a.a.createElement(m,c({ref:n},l))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=b;var c={};for(var p in n)hasOwnProperty.call(n,p)&&(c[p]=n[p]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=t[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);